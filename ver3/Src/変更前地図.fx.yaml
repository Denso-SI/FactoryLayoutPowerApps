変更前地図 As screen:
    OnVisible: |-
        =Set(tanaFontSize,1);
        Set(scale,1);
        Set(tanascale,1);
        Set(normalColor,Color.White);
        Set(selectedColor,Color.Yellow);
        Set(LastClickTime, 0);
        Set(SelectRow,LookUp(kouta_visio_layout2,PinX<=地図印.X And PinY<=地図印.Y And (PinX+Width)<=地図印.X And (PinY+Height)<=地図印.Y).ShapeText);
        Set(SerchX, 0);
        Set(SerchY, 0);

    lblTitle_6 As label:
        Fill: =RGBA(251, 188, 159, 1)
        Height: =69
        Size: =24
        Text: |+
            ="【変更前】"&
            "品番:" &　tblSagyo.Selected.品番　&"　　　"&
            "ロケ番号:" &tblSagyo.Selected.移動前ロケ　&"　　　"&
            "段数:"　&　tblSagyo.Selected.移動前段数 
            
        Width: =1366
        ZIndex: =1

    btnNextView_12 As button:
        Fill: =RGBA(54, 176, 75, 1)
        OnSelect: =Navigate(変更前棚)
        Text: ="OK"
        X: =1206
        Y: =728
        ZIndex: =2

    btnNextView_11 As button:
        Fill: =RGBA(54, 176, 75, 1)
        OnSelect: =Back()
        Text: ="戻る"
        Y: =728
        ZIndex: =3

    Image2 As image:
        Height: =647
        Image: ='新しいビットマップ イメージ'
        OnSelect: =false;
        Width: =1105
        X: =112
        Y: =69
        ZIndex: =4

    カスタムラベル変更前ロケ As カスタムラベル:
        Height: =LookUp(kouta_visio_layout2,ThisRecord.ShapeKey=Self.棚ID).Height/tanascale
        Width: =LookUp(kouta_visio_layout2,ThisRecord.ShapeKey=Self.棚ID).Width/tanascale
        X: =LookUp(kouta_visio_layout2,ThisRecord.ShapeKey=Self.棚ID).PinX/scale
        Y: =LookUp(kouta_visio_layout2,ThisRecord.ShapeKey=Self.棚ID).PinY/scale
        ZIndex: =5
        カスタムプロパティ1: |-
            ={
                //text:LookUp(kouta_visio_layout2,ThisRecord.ShapeKey=Self.棚ID).ShapeText,
                text:"",
                fontSize:tanaFontSize,
                backColor:Color.Red,
                borderColor:Color.Yellow,
                visible:If(Mod(Timer1.Value, 1000) < 500, true, false)
                }
        棚ID: =tblSagyo.Selected.移動前ロケ

    Timer1 As timer:
        AutoPause: =false
        AutoStart: =true
        Duration: =1000
        Repeat: =true
        Visible: =false
        Y: =372
        ZIndex: =6

    座標gallery As gallery.galleryVertical:
        BorderColor: =RGBA(0, 0, 0, 0)
        BorderStyle: =BorderStyle.None
        DelayItemLoading: =true
        FocusedBorderColor: =RGBA(0, 0, 0, 0)
        FocusedBorderThickness: =0
        Height: =Image2.Height
        Items: =Sequence(Self.Height / Self.TemplateHeight)
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        ShowScrollbar: =false
        TemplatePadding: =0
        TemplateSize: =5
        Width: =Image2.Width
        X: =Image2.X
        Y: =Image2.Y
        ZIndex: =7

        Rating5_1 As rating:
            BorderColor: =RGBA(0, 0, 0, 0)
            Default: =0
            DisabledFill: =Self.Fill
            DisplayMode: =DisplayMode.Edit
            FocusedBorderColor: =Self.BorderColor
            Height: =5
            HoverFill: =Self.Fill
            Max: =50
            OnSelect: =false;
            PressedFill: =Self.Fill
            RatingFill: =RGBA(0, 0, 0, 0)
            Width: =Parent.Width
            X: =0
            Y: =0
            ZIndex: =1

    地図印 As icon.Cancel:
        Color: =RGBA(255, 0, 0, 1)
        Height: =21
        Icon: =Icon.Cancel
        OnSelect: =
        Width: =21
        X: =座標gallery.Selected.Rating5_1.Value * 座標gallery.Width / Rating5_1.Max - Self.Width / 2+ 座標gallery.X
        Y: =座標gallery.Selected.Value * 座標gallery.TemplateHeight - Rating5_1.Height / 5 - Self.Height / 2　+ 座標gallery.Y
        ZIndex: =8

    Label2 As label:
        Height: =247
        Text: |-
            ="x:" & 地図印.X & Char(10) & "y:" & 地図印.Y &  Char(10)  
            &　LookUp(kouta_visio_layout2,PinX<=地図印.X And Int(MaxX) >= 地図印.X And PinY>=地図印.Y And Int(MinY) <= 地図印.Y ).ShapeText &  Char(10) 
            & SerchX 
            & SerchY
        Width: =112
        Y: =155
        ZIndex: =9

    Button2 As button:
        Height: =34
        Size: =10
        Text: ="在庫取得"
        Width: =82
        Y: =378
        ZIndex: =10

    カスタムラベルロケチェック As カスタムラベル:
        Height: =LookUp(kouta_visio_layout2,ThisRecord.ShapeKey=Self.棚ID).Height/tanascale
        Width: =LookUp(kouta_visio_layout2,ThisRecord.ShapeKey=Self.棚ID).Width/tanascale
        X: =SerchX
        Y: =SerchY
        ZIndex: =11
        カスタムプロパティ1: |-
            ={
                //text:LookUp(kouta_visio_layout2,ThisRecord.ShapeKey=Self.棚ID).ShapeText,
                text:"",
                fontSize:tanaFontSize,
                backColor:Color.Yellow,
                borderColor:Color.Yellow,
                visible:If(Mod(Timer1.Value, 1000) < 500, true, false)
                }
        棚ID: =tblSagyo.Selected.移動前ロケ

    TextInput1 As text:
        Default: ="テキスト入力"
        Height: =53
        OnChange: |-
            =Set(SerchX, LookUp(kouta_visio_layout2,ShapeText=Self.Text).PinX;
            Set(SerchY, LookUp(kouta_visio_layout2,ShapeText=Self.Text).PinY;
        Width: =149
        X: =1217
        Y: =407
        ZIndex: =12

